8. 数据库
集中式数据库优化
分布式数据库优化

分布式缓存技术 redis
数据、数据库系统、数据库、数据库管理系统
DBMS： 关系数据库系统RDBS  面对对象的xxxOODBS  对象关系xxxORDBS

数据模型三要素：数据结构、数据操作、数据的约束条件


三级模式
  - 外模式、概念模式、内模式
两级映射
  - 外模式/概念模式映射 —— 逻辑独立性
  - 概念模式/内模式映射 —— 物理独立性

考察 集合运算符、专门的关系运算符
外连接运算 - 左外链接、右外、完全外链接

元组tuple - 关系型数据库中的一条（一行）数据

delta
sigma 

数据库运算符
笛卡尔积 X —— RXS
sigma 选择，大写像是个求集合的符号 - 取出符合条件的行（元组） - 求数据
pai 投影 - 就是圆周率 — 取出符合条件的列（属性）  - 求属性
连接 - 等值连接、自然连接

规律，记不住
第N范式 - 忘记了


DBMS - 基本工作单位是 事务
事务四特性 ACID：
原子性 atomicity - 要么全做、要么全不做
一致性 consistency - 变更前是一个正确的状态，变更后也是正确的一个新状态
隔离性 isolation - 互不影响
持久性 durability - 数据彻底变更、不会回退


控制并发（写入数据库） - X排它锁； S分享锁


数据库设计步骤 —— 用户需求分析、概念结构设计、逻辑结构设计、物理结构设计、应用程序设计、运行维护

E-R方法 - 设计概念结构


应用程序访问数据库的方式
1. 库函数 - 忽略
2. 嵌入式SQL - 忽略
3. 开放数据库连接 Open DB Connectivity - DAO (Data Access Object)、RDO(远程数据库对象）、ADO、 JavaDBC
4. 对象关系映射 - ORM框架  （nodejs 中、Sequelize、TypeORM）


NoSQL 泛指 `非关系型数据库`，不是没有数据库，而是没有关联关系；不保证ACID特性
根据数据结构分类： 列式、键值对、文档型、图数据库

键值对存储数据库 - Redis
文档型 - MongoDB

优点：高性能、灵活、大数据量、高可用、易拓展


NoSQL 框架自下而上 - 数据持久层、数据分布层、数据逻辑模型层、接口层


分布式数据库
特点：共享性；自治性；可用性；分布式

爱分布什么分布什么


集中式数据库优化手段
反规范化设计 - 反第N范式 —— 增加冗余列、派生列，重新组表、水平分割表、垂直分割表

分布式数据库优化手段
主从复制、读写分离、分表、分库
读写分离 - 主表写入、从表读取
分表 - 垂直切分（属性分开）、水平切分（每一万条数据切分出一片） - 仍放在同一台数据库服务器中
分库 - 比垂直切分更激进的业务切分，切出来属性，变成新表且放在不同的数据库中

Redis - 基于内存的读写特性，启用内存作为缓存
过期策略 - 定期删除、惰性删除

Redis的持久化方式
RDB - redis data base - 内存快照（写入磁盘）
AOF - append only file - 不断地保存redis的更新日志

Redis缓存异常
缓存穿透 - 拦截恶意攻击；正常模式下部署前预热redis
缓存雪崩 - 大量key同时过期、redis会宕机、网络会抖动 - cluster集群方案；过期时间为随机值
缓存击穿 - key的过期时间过短

Redis集群 - 主从复制集群、哨兵集群、Cluster集群方式



13. 未来信息
CPS 体系结构划分：单元级、系统级、SOS级
边缘计算 - 由网络中心下放到网络边缘节点 - 举例：智能园区；云游戏
特点：联接性、数据第一入口、约束性、分布性

云计算 - 同时描述一个系统平台或一类应用程序的术语，包含平台和应用



9. 系统架构设计基础知识
生命周期： 需求分析阶段、设计阶段、实现阶段、构件组装阶段、部署阶段、后开发阶段
分析： 需求模型 -> 架构模型
设计： 模型的描述、模型的设计与分析方法、经验的总结和复用

ABSDM 开发模型周期：
体系结构需求、体系结构设计、体系结构文档化、体系结构复审、体系结构实现、体系结构演化
文档化：输出 -> 规格说明书 + 质量设计说明书


软件架构风格： 
数据流体系结构风格 - 批处理、管道和过滤器
调用/返回体系结构风格 - 主程序/子程序风格、面对对象、层次型、客户端/服务器体系风格
  客户端/服务器： 二层 C/S（直接调数据库）、 三层C/S（前端、后端、数据库） 、 B/S（默认三层）
数据为中心的 体系结构风格 -> 仓库、黑板
虚拟机... -> 解释器、规则系统
独立构件... -> 进程通信IPC、事件系统（广播、订阅）
C2风格

特定领域软件架构 DSSA
特征： 领域性、普遍性、抽象性、可复用性
基本活动： 领域分析、领域涉及、领域实现
过程是并发的、递归的、反复地螺旋模型，有五个阶段： 定于范围、定义特定元素、定义特定设计和实现约束、定义领域模型和体系结构、产生+搜集可重用的单元


10. 系统质量属性与架构评估
质量属性：开发期、运行期
架构主要关注的质量属性有： `性能、可靠性、可用性、安全性、可修改性、功能性、可变性、互操作性` **！！

提升指定质量的应对措施
可用性：
  - 错误检测：心跳机制、Ping/Echo、异常
  - 错误回复、错误避免
可修改性
  - 高内聚、低耦合

质量属性场景：组成-> 刺激源、次级、环境、直聘、响应、响应度量

架构评估方法
- 软件架构分析方法 SAAM - 非功能质量属性的

- 架构权衡分析法 ATAM - 针对系统开发之前，评估和折中 `性能、可用性、安全性、可修改性等质量属性` - 属性作为评估核心
  三个阶段：演示和介绍、调查和分析、测试和报告

- 成本效益分析法 CBAM


11. 可靠性
规定时间内，软件不引起系统失效的`概率`
描述方式：可靠度、平均失效时间、故障强度

可靠性管理阶段：需求分析阶段、概要设计阶段、详细设计阶段、编码阶段、测试阶段、实施阶段

相关技术：容错设计技术、检错、降低复杂度、系统配置
双机互备和双机热备：热备 -> 主从机器；互备 -> 大家平等关系

5. 信息安全技术
要素： 机密性、完整性、可用性、可控性、可审查性
访问控制三要素：主体、客体、控制策略
DoS（Denial of Service)拒绝访问攻击 - 侵犯 可用性

安全保密技术： 数据泄露防护DLP、 数字水印DW
安全协议：SSL、PGP（Pretty Good Privacy）、 IPSec、SET、HTTPS
  注意： S就是Security，只有PGP（一种加密软件）才缺少S

风险评估基本要素：脆弱性、资产、威胁、风险、安全措施


6. 系统工程基础知识
特点： 整体性、综合性、协调性、科学性、实践性
霍尔三维：时间维、逻辑维、知识维

生命周期： 探索研究、概念阶段、开发阶段、生产阶段、使用阶段、保障阶段、退役阶段
生命周期方法：计划驱动方法、渐进迭代式开发、精益开发、敏捷开发

MBSE - model base systems engineering 基于模型的系统工程
需求分析阶段：产出需求图、用例图和包图
功能分析和分配阶段：顺序图、活动图、状态机图
设计综合阶段：模块定义图、内部块图、参数图

系统工程三大支柱：建模语言、建模工具、建模思路

性能：
计算机主要性能指标：主频、运算速度、运算精度、数据处理频率PDR、吞吐率
路由器性能指标：丢包率、时延、时延抖动、协议支持
网络性能指标： 设备级、网络级、应用级、用户级 性能指标和吞吐量
操作系统性能指标： extra -> 可靠性、可移植性


基准测试程序Benchmark： 用的最多、最频繁的那部分核心程序
准确度：真实程序、核心程序、小型基准、合成基准程序 （递减）